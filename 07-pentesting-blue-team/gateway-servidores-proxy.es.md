# Gateway (servidores proxy)

Son una alternativa a los filtros de paquetes ya que soportan filtros a nivel de aplicación en lugar de a nivel de red y transporte. Actúan para un protocolo de aplicación y **hay un proceso *proxy* para cada protocolo que se quiere filtrar**. Un servidor *proxy* reside entre los clientes y el servidor real, intercepta las peticiones de los clientes de servicios particulares, las evalúa y decide qué tráfico se permite y qué tráfico se bloquea.

**Arquitectura de servidores *proxy***

![servidores-proxy](https://github.com/4GeeksAcademy/cybersecurity-syllabus/blob/main/assets/servidores-proxy.png?raw=true)

## Ventajas de servidores proxy:

- Soluciona problemas que presentan los filtros de paquetes, ya que permite filtrar a nivel de aplicación se puede filtrar por operaciones concretas de protocolo.
- Ej. en ftp se podría poner una regla de bloqueo de todos los comandos *put* y nadie podría subir archivos al servidor.
- los problemas relacionados con el esquema de ftp desaparecen ya que el *proxy* cambia el número de puerto usado en las sesiones para mantener el estado de las dos sesiones.
- Pueden tener un proceso separado por protocolo, no tienen que tratar de hacerlo todo a la vez.
- Es sencillo restringir el acceso a un servicio: si no hay *proxy*, no hay servicio.
- Simplifica las reglas de filtrado en el encaminador. Solo se debe permitir el tráfico hacia la pasarela de aplicación y bloquear el resto.
- Permite un grado de ocultación de la estructura de la red protegida. El nombre del *proxy* será el único que estará disponible hacia el exterior.

### Desventajas de servidores proxy:

- Al funcionar un proceso *proxy* por servicio, se debe tener multitud de ellos, si se quiere atender al filtrado de muchos protocolos.
- Puede pasar que se tenga que usar distintos clientes, servidores o ambos.
- Pueden llegar a ser un cuello de botella para el tráfico.

### Tipos de servidores proxy

- Un sistema genérico, SOCKS, requiere clientes distintos a los típicos, no es popular.
- Proxy Server, como el de Microsoft, es un paquete de *software* que permite hacer *proxy* de protocolos ftp, http y nntp.
- TIS FWTK, de *Trusted Information Systems*, que incluye distintos tipos de servidores *proxy*. Entre otros, incluye proxies para Telnet, FTP, Rlogin, Sendmail, HTTP, etc.

**¿Qué se puede mejorar?**

- Trabajar con tecnología «*stateful inspection*».
- Reunir varias de las tecnologías, junto con distintos tipos de sistemas de autenticación, AAA, para crear cortafuegos mucho más sofisticados.
- Con todas las tecnologías disponibles, crear distintas arquitecturas y topologías de seguridad, en torno al cortafuego.

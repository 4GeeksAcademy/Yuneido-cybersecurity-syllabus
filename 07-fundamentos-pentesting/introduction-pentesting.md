## Lecture 1 📕: Preparation of the pentesting environment:

## **Pentesting definition**

Pentesting, or penetration testing, is an IT security assessment methodology that simulates cyber attacks to evaluate the resistance of a system, network, or application to potential threats. It consists of identifying and exploiting security vulnerabilities in order to improve defenses and strengthen the security posture.

## **Objectives of Pentesting**

- Vulnerability Identification: Discovering potential security breaches and weaknesses in systems and networks.
- Risk Assessment: Assess the severity of discovered vulnerabilities and their potential impact on system security.
- Attack Surface Mapping: Understand the infrastructure and applications that may be targets of a real attack.
- Security Controls Validation: Verify the effectiveness of security measures implemented in an environment, such as firewalls, detection systems, and access policies.
- Continuous Improvement: Provide specific recommendations to improve security, allowing organizations to take corrective and preventive measures.
- Awareness: Raise awareness among security teams and the organization in general about the importance of maintaining a proactive posture in the face of potential threats.
- Incident Preparedness: Helping organizations to be better prepared to respond to security incidents by identifying vulnerabilities early and improving response protocols.
- Pentesting is an essential practice in modern cybersecurity, providing a practical and realistic assessment of an organization's security posture.

## **Types of Pentesting:**

| Black Box Pentesting | In this test the tester performs his analysis completely blind, i.e. without any information whatsoever about the system to be evaluated. Therefore, the attack will be carried out as if it were performed by someone completely external to the company. In the same way that simulations of air attacks are carried out, with black box pentesting it is possible to simulate a cyber attack on your computer system, whether by a hacker or a cybercriminal. |
| --- | --- |
| White Box Pentesting | In this type of test the tester knows all the data of the system to be evaluated (passwords, firewalls or IPs of the computer system, among others). Therefore, the attack is simulated as if it were carried out by an insider, i.e. someone who is part of the company. It is the most complete Pentesting test that a computer system can undergo and with which it is possible to detect with great precision the improvable aspects of its defenses. |
| Grey Box Pentesting | This test is an intermediate or mixture of the two previous ones. In this case, the tester will have some information when performing the test, although it is still a good simulation of an attack outside the system. |

## **Where do pentesters work?**

Generally in one of three environments.

- **Internal:** As an internal penetration tester, you work directly for a company or organization. This usually gives you a good understanding of the company's security protocols. You also get to learn more about new features and security fixes.
- **Security firm:** Some organizations hire an outside security firm to generate penetration tests. Working for a security firm offers a greater variety in the types of tests you will be able to design and perform.
- **Freelance:** Some choose to work as a freelancer. Choosing this path may give you greater flexibility in your schedule, but you may have to spend more time looking for clients early in your career.

## **Difference between pentesting and security testing.**

### **Scope:**
- **Pentesting:** Focuses on simulating a real cyber-attack, replicating an attacker's tactics to identify and exploit vulnerabilities.
- **Security Testing:** Can address a wider range of assessments, including static and dynamic analysis, code review, configuration evaluation, among others.

### **Approach:**
- **Pentesting:** Has a broader and more realistic approach, evaluating security from an attacker's perspective.
- **Security Testing:** May address more specific aspects of security, such as reviewing security configurations, performing static code analysis, or evaluating security policies.

### **Depth of Evaluation:**
- **Pentesting:** Dives deep into vulnerability exploitation, seeking to simulate a real attack and evaluate system resilience.
- **Security Testing:** Can be broader and less focused on exploitation, covering different aspects of security without necessarily reaching direct exploitation.

### **Objective:**
- **Pentesting:** Seeks not only to identify vulnerabilities, but also to demonstrate how they could be exploited and what impact they would have on security.
- **Security Testing:** May focus on identifying vulnerabilities without necessarily carrying out a detailed exploitation.

### **Nature:**
- **Pentesting:** It is more action-oriented, simulating an attack in real time.
- **Security Testing:** Can be more static, focused on analysis and evaluation without direct exploit actions.

### **Frequency:**
- **Pentesting:** Generally performed periodically to evaluate security at different times and situations.
- **Security Testing:** May be more continuous and integrated into the software development cycle.

> 💡 Both practices are complementary and it is common to use them in a comprehensive security program. Pentesting is often considered an essential part of security testing, but it does not represent its entirety. Security testing addresses a broader spectrum of assessments that go beyond simulating an actual attack.

### **Pentester Roles and Responsibilities**

The roles and responsibilities of a pentester are fundamental to ensure the effectiveness and success of security testing. Here are the main aspects:

- **Information Gathering:** Obtain relevant data about the target system, such as network information, technologies used and possible entry points.
- **Vulnerability Analysis:** Identify and assess possible vulnerabilities in the target system through scanning and analysis techniques.
- **Vulnerability Exploitation:** Attempt to exploit identified vulnerabilities to verify their exploitability and assess potential impact.
- **Application Security Testing:** Evaluate the security of web and mobile applications, identifying potential vulnerabilities such as SQL injections, XSS, CSRF, etc.
- **Network Testing:** Evaluate the security of network infrastructure, identifying vulnerabilities in configurations, devices and protocols.
- **Social Engineering Testing:** Simulate social engineering attacks to assess staff resistance to manipulation and raise awareness of potential threats.
- **Report Writing:** Documenting in a clear and detailed manner all activities performed, findings, identified risks and recommendations.
- **Collaboration with the Security Team:** Work closely with the security team to understand the organization's policies, procedures and specific needs.
- **Tool Development and Automation:** Contribute to the development and enhancement of automated tools to increase testing efficiency and effectiveness.
- **Training and Awareness:** Provide guidance and training to staff on security best practices and raise awareness of current threats.
- **Knowledge Maintenance:** Keep updated on the latest threats, vulnerabilities and ethical hacking techniques.

> ⚠️ A pentester must be ethical, possess advanced technical skills, understand the current threat landscape and be able to effectively communicate risks and recommendations to different levels of the organization. Confidentiality and integrity are key aspects of performing these responsibilities.

## **Consideraciones éticas y legales en el pentesting**

Estas herramientas son solo una introducción y el uso específico dependerá del alcance y los requisitos de cada proyecto de pentesting. Es crucial que los pentesters comprendan el funcionamiento de estas herramientas y sus implicaciones éticas, y que sigan las leyes y regulaciones aplicables durante las pruebas de penetración. Las pruebas de penetración, aunque esenciales para evaluar la seguridad de sistemas, deben llevarse a cabo con estricto apego a consideraciones éticas y legales.

### **Consideraciones Éticas:**

- Consentimiento Informado: Obtener el consentimiento por escrito del propietario del sistema o red antes de realizar cualquier prueba de penetración.
- Proporcionalidad y Justificación: Asegurarse de que las pruebas sean proporcionadas y justificadas, evitando daños innecesarios o intrusivos.
- Confidencialidad: Mantener la confidencialidad de cualquier información sensible o datos que se obtengan durante las pruebas.
- Notificación de Resultados: Informar de manera clara y detallada sobre los hallazgos y vulnerabilidades descubiertas al propietario del sistema, y ofrecer recomendaciones para la mitigación.
- Integridad Profesional: Actuar con integridad y profesionalismo en todas las etapas del proceso de pruebas, evitando conductas inapropiadas o malintencionadas.

### **Consideraciones Legales:**

- Autorización Legal: Obtener permisos y autorizaciones legales para realizar pruebas de penetración en sistemas y redes. Esto es fundamental para evitar acciones legales en su contra.
- Leyes y Regulaciones Locales: Conocer y cumplir con todas las leyes y regulaciones locales, estatales y nacionales relacionadas con las pruebas de penetración.
- Documentación: Mantener una documentación clara y detallada de todas las actividades realizadas durante las pruebas, incluyendo fechas, horas, resultados y acciones tomadas.
- No Dañar o Explotar Datos Sensibles: Evitar cualquier acción que pueda dañar datos o explotar vulnerabilidades con el propósito de obtener información sensible sin autorización explícita.
- No Exceder los Límites del Alcance: Apegarse estrictamente al alcance acordado para las pruebas y evitar explorar áreas fuera de esos límites sin permiso adicional.
- Cooperación con el Cliente: Colaborar estrechamente con el cliente y su equipo de seguridad para garantizar que las pruebas se realicen de manera segura y conforme a las políticas establecidas.


> ⚠️ El incumplimiento de estas consideraciones éticas y legales puede resultar en consecuencias graves, incluyendo acciones legales, pérdida de confianza y daño a la reputación del profesional de seguridad. Es crucial trabajar en estrecha colaboración con el cliente y otros stakeholders para garantizar que todas las partes estén informadas y comprometidas en el proceso de pruebas de penetración.